{"version":3,"sources":["helper/Fetch.js","components/Login.jsx","components/Create.jsx","components/MessageBox.jsx","components/Messages.js","App.js","index.js"],"names":["messageUrl","getAll","a","axios","get","result","data","addUser","newObject","post","addMessages","username","login","newObj","getUserData","Login","history","useState","setUsername","password","setPassword","error","setError","handleLogin","e","preventDefault","Fetch","oneUser","window","localStorage","setItem","JSON","stringify","push","setTimeout","className","onSubmit","type","required","value","onChange","target","onClick","Create","success","setSucess","handleSubmit","console","log","MessageBox","match","text","setText","params","cols","rows","placeholder","message","then","catch","addMore","Messages","setMessage","user","getItem","parse","useEffect","err","messagePage","to","length","map","messages","mesInd","clear","App","path","component","exact","Home","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d296f1d.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\n/* eslint-disable no-unused-vars */\nimport axios from 'axios'\nconst loginUrl = '/api/login'\nconst messageUrl = '/api/messages'\nconst userUrl = '/api/user'\n\nconst getAll = async() => {\n    const result =  await axios.get(messageUrl)\n    return result.data\n}\n\nconst addUser = async(newObject) => {\n    const result = await axios.post(userUrl,newObject)\n    return result.data\n} \nconst addMessages = async (newObject,username) => {\n    const result = await axios.post(`${messageUrl}/${username}`,newObject)\n    return result.data\n}\nconst login = async newObj => {\n    const result = await axios.post(loginUrl,newObj)\n    return result.data\n}\nconst getUserData = async username => {\n    const result = await axios.get(`${messageUrl}/user/${username}`)\n    return result.data\n}\n\n\nexport default {getAll,addUser,addMessages,login,getUserData}","import React, { useState } from \"react\";\n// import { Link } from 'react-router-dom'\nimport Fetch from \"../helper/Fetch\";\nconst Login = ({ history }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleUsername = (e) => setUsername(e.target.value);\n  const handlePassword = (e) => setPassword(e.target.value);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const oneUser = await Fetch.login({ username, password });\n      window.localStorage.setItem(\"loggedUser\", JSON.stringify(oneUser));\n      setUsername(\"\");\n      setPassword(\"\");\n      history.push(\"/messages\");\n    } catch (exception) {\n      setError(\"invalid passwrod or username,pls try again\");\n      setUsername(\"\");\n      setPassword(\"\");\n      setTimeout(() => {\n        setError(\"\");\n      }, 3000);\n    }\n  };\n  const handleLogout = () => {\n    history.push(\"/\");\n  };\n  return (\n    <div className=\"w-screen h-screen  bg-gray-600 flex flex-col justify-start items-center pt-20 text-2xl\">\n      <p>{error}</p>\n      <p className=\"pb-3\">Login to Anonymous</p>\n      <form\n        className=\"flex rounded-lg flex-col bg-gray-400 p-12\"\n        onSubmit={handleLogin}\n      >\n        username{\" \"}\n        <input\n          className=\"input-tag\"\n          type=\"text\"\n          required\n          value={username}\n          onChange={handleUsername}\n        />\n        <br />\n        password{\" \"}\n        <input\n          className=\"input-tag\"\n          type=\"password\"\n          required\n          value={password}\n          onChange={handlePassword}\n        />\n        <button className=\"mt-6 border-2 text-center border-white bg-purple-500 rounded-lg text-gray-800 w-40 ml-12\">\n          login\n        </button>\n      </form>\n      <button\n        className=\"mt-6 border-2 text-center border-white bg-purple-500 rounded-lg text-gray-800 w-50 p-1 ml-2\"\n        onClick={handleLogout}\n      >\n        Create Account?\n      </button>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport Fetch from \"../helper/Fetch\";\n\nconst Create = ({ history }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [success, setSucess] = useState(\"\");\n\n  const handleUsername = (e) => setUsername(e.target.value);\n  const handlePassword = (e) => setPassword(e.target.value);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newObj = {\n      username: username,\n      password: password,\n    };\n    try {\n      await Fetch.addUser(newObj);\n      console.log({ history });\n      history.push(\"/login\");\n      setUsername(\"\");\n      setPassword(\"\");\n    } catch (exception) {\n      if (!username || !password) {\n        setSucess(\"pls enter username or password\");\n      } else {\n        setSucess(\"username not available,choose another username\");\n        setUsername(\"\");\n        setPassword(\"\");\n      }\n      setTimeout(() => {\n        setSucess(\"\");\n      }, 3000);\n    }\n  };\n  const showLogin = () => history.push(\"/login\");\n\n  return (\n    <div className=\"bg-purple-500 w-screen h-screen flex flex-col  items-center  gap-y-5 text-2xl pt-4\">\n      <p className=\"text-red-400\">{success}</p>\n      <h1 className=\"p-tag text-white text-3xl\">create account</h1>\n      <form className=\"flex flex-col \">\n        username{\" \"}\n        <input\n          className=\"input-tag\"\n          type=\"text\"\n          value={username}\n          onChange={handleUsername}\n          required\n        />{\" \"}\n        <br />\n        password{\" \"}\n        <input\n          className=\"input-tag\"\n          type=\"text\"\n          value={password}\n          onChange={handlePassword}\n          required\n        />{\" \"}\n        <br />\n        <button\n          className=\" w-52 rounded-lg ml-6 border-white border-2 bg-purple-400 text-gray-600 outline-none\"\n          onClick={handleSubmit}\n        >\n          create account\n        </button>\n      </form>\n      <button\n        className=\"w-auto rounded-lg border-white border-2 bg-purple-400 text-gray-600 outline-none p-1\"\n        onClick={showLogin}\n      >\n        Already have an account\n      </button>\n    </div>\n  );\n};\n\nexport default Create;\n","/* eslint-disable no-const-assign */\nimport React, { useState } from \"react\";\nimport Fetch from \"../helper/Fetch\";\nconst MessageBox = ({ match }) => {\n  const [text, setText] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleText = (e) => setText(e.target.value);\n  const addMore = (username) => {\n    if (text)\n      Fetch.addMessages({ message: text }, username)\n        .then(() => {\n          setText(\"\");\n          setError(`Anonymous message succesfully sent to ${username}`);\n          setTimeout(() => {\n            setError(\"\");\n          }, 3000);\n        })\n        .catch(() => {\n          setText(\"\");\n          setError(\"invalid link\");\n          setTimeout(() => {\n            setError(\"\");\n          }, 3000);\n        });\n  };\n  const { username } = match.params;\n  return (\n    <div className='h-screen w-screen bg-gray-400 flex flex-col pt-20 text-2xl pl-20 overflow-hidden'>\n      <p className='text-xl text-green-600'>{error}</p>\n      <p className='pb-2 text-purple-800'>messageBox for {username}</p>\n      <textarea\n        className='text-white bg-purple-600 w-96 max-h-44 outline-none text-base pl-2 border-2 border-gray-400 rounded-xl'\n        value={text}\n        onChange={handleText}\n        cols=\"50\"\n        rows=\"15\"\n        placeholder=\"write a message for .......\"\n      ></textarea>\n      <button className='flex w-14 p-1 rounded-lg text-xl text-center mt-1 outline-none border-2 border-gray-500 bg-purple-600 ' onClick={() => addMore(username)}>send</button>\n    </div>\n  );\n};\n\nexport default MessageBox;\n","import React, { useEffect, useState } from \"react\";\nimport Fetch from \"../helper/Fetch\";\nimport { Link } from \"react-router-dom\";\n\nconst Messages = ({ history }) => {\n  const [message, setMessage] = useState([]);\n  const user = window.localStorage.getItem(\"loggedUser\");\n  const username = JSON.parse(user).username;\n  useEffect(() => {\n    Fetch.getUserData(username)\n      .then((data) => {\n        setMessage(data);\n      })\n      .catch((err) => console.log(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const messagePage = `/user/${username}`;\n  const logOut = () => {\n    window.localStorage.clear();\n    history.push(\"/login\");\n  };\n  return (\n    <div className=\"flex flex-col text-gray-600 bg-purple-300 text-2xl items-center w-screen h-screen pt-16 overflow-x-hidden\">\n      <h2 className=\"\">{username} logged in</h2>\n      <div className=\"mt-20 pl-10 flex justify-start items-start w-screen\">\n        copy link to messageBox:\n        <Link className=\"text-purple-700\" to={messagePage}>\n          http://localhost:3000/user/{username}\n        </Link>\n      </div>\n      <p className=\"mt-10 w-screen flex justify-start pl-10 \">Your Messages:</p>\n      <br />\n      <div className=\"flex flex-col w-screen pl-20\">\n        {message.length === 0\n          ? \"No messages for you yet lol\"\n          : message.map((messages, mesInd) => {\n              return (\n                <div\n                  className=\" w-max flex flex-col justify-start mr-96  p-3 border-gray-600 border-2 bg-purple-500 m-3 text-gray-200 rounded-lg text-xl\"\n                  key={`p${mesInd}`}\n                >\n                  <span className=\"text-base\">Anonymous user says:</span>\n                  <span className=\"ml-20 mt-3\">{messages.message}</span>\n                </div>\n              );\n            })}\n      </div>\n      <button\n        className=\"mt-36 mb-10  rounded-lg border-purple-500 border-2 bg-gray-400 text-gray-700 outline-non p-1\"\n        onClick={logOut}\n      >\n        Logout\n      </button>\n    </div>\n  );\n};\n\nexport default Messages;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Create\";\nimport MessageBox from \"./components/MessageBox\";\nimport Messages from \"./components/Messages\";\n\nconst App = () => {\n  return (\n    <div>\n      <Switch>\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/messages\" exact component={Messages} />\n        <Route path=\"/user/:username\" exact component={MessageBox} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  \n    <Router>\n      <App />\n    </Router>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}